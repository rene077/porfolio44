<div id="experiencia"></div>

<div class="modal fade" id="experienciaForm" tabindex="-1" aria-labelledby="experienciaFormLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="experienciaFormLabel">Experiencia</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="experienciaForm" (ngSubmit)="onSubmit()">
          <input type="hidden" name="id" formControlName="id">

          <div class="row mb-3">
            <label for="position" class="col-sm-2 col-form-label">Posición</label>
            <div class="col-sm-10">
              <input type="text" placeholder="posicion laboral" name="position" formControlName="position" class="form-control" 
              [ngClass]="{'is-invalid': Position?.errors && Position?.touched, 'is-valid': !Position?.errors && Position?.touched }" 
              required>
              <div *ngIf="Position?.errors && Position?.touched">
                <p *ngIf="Position?.hasError('required')" class="text-danger">
                  El dato es fundamental!
                </p>
             </div>
            </div>
          </div>

          <div class="row mb-3">
            <label for="company" class="col-sm-2 col-form-label">Companía</label>
            <div class="col-sm-10">
              <input type="text" placeholder="nombre de companía" name="company" formControlName="company" class="form-control" 
              [ngClass]="{'is-invalid': Company?.errors && Company?.touched, 'is-valid': !Company?.errors && Company?.touched }" 
              required>
              <div *ngIf="Company?.errors && Company?.touched">
                <p *ngIf="Company?.hasError('required')" class="text-danger">
                  El dato es fundamental!
                </p>
             </div>
            </div>
          </div>

          <div class="row mb-3">
            <label for="workday" class="col-sm-2 col-form-label">Jornal</label>
            <div class="col-sm-10">
              <input type="text" placeholder="forma de trabajo" name="workday" formControlName="workday" class="form-control" required>
            </div>
          </div>

          <div class="row mb-3">
            <label for="start" class="col-sm-2 col-form-label">Inicio</label>
            <div class="col-sm-10">
              <input type="text" placeholder="año de inicio" name="start" formControlName="start" class="form-control" required>
            </div>
          </div>

          <div class="row mb-3">
            <label for="end" class="col-sm-2 col-form-label">Finalización</label>
            <div class="col-sm-10">
              <input type="text" placeholder="año finalizado o continua?" name="end" formControlName="end" class="form-control" required>
            </div>
          </div>

          <div class="row mb-3">
            <label for="location" class="col-sm-2 col-form-label">Localidad</label>
            <div class="col-sm-10">
              <input type="text" placeholder="pais-provincia" name="location" formControlName="location" class="form-control" 
              [ngClass]="{'is-invalid': Location?.errors && Location?.touched, 'is-valid': !Location?.errors && Location?.touched }" 
              required>
              <div *ngIf="Location?.errors && Location?.touched">
                <p *ngIf="Location?.hasError('required')" class="text-danger">
                  El dato es fundamental!
                </p>
             </div>
            </div>
          </div>

          <div class="row mb-3">
            <label for="time" class="col-sm-2 col-form-label">TiempoExp</label>
            <div class="col-sm-10">
              <input type="text" placeholder="tiempo trabajado" name="time" formControlName="time" class="form-control" 
              [ngClass]="{'is-invalid': Time?.errors && Time?.touched, 'is-valid': !Time?.errors && Time?.touched }" 
              required>
              <div *ngIf="Time?.errors && Time?.touched">
                <p *ngIf="Time?.hasError('required')" class="text-danger">
                  El dato es fundamental!
                </p>
              </div>
            </div>
          </div>

          <div class="row mb-3">
            <label for="imgp" class="col-sm-2 col-form-label">ImgComp</label>
            <div class="col-sm-10">
              <input type="text" placeholder="nombre de Archivo" name="imgp" formControlName="imgp" class="form-control" required>
            </div>
          </div>

          <div class="text-center">
            <button type="button" class="btn btn-secondary me-4" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Save changes</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div id="experience">
  <div class="card-titles">
    <h2>Experiencia</h2>
    <div *ngIf="isUserLogged" class="btn-edit">
      <button class="btn btn-right" data-bs-toggle="modal" data-bs-target="#experienciaForm" (click)="onNewExperiencia()"  ><i class="fa fa-plus"></i></button>
    </div>
  </div>
  <div>
    <ul class="items-list" id="expList">
      <li *ngFor="let experiencia of experienciaList; let i = index ">
        <div class="data-container">
          <a href="#">
            <div class="logo-image-container"><img id="exp-img" class="logo-image"
                src="/assets/images/{{experiencia.imgp}}"></div>
            <div class="list-info">
              <div>
                <h3 id="exp-position">{{experiencia.position}}</h3>
                <p><span id="exp-company">{{experiencia.company}}</span> - <span id="exp-mode">{{experiencia.workday}}</span></p>
                <h4><span id="exp-initial">{{experiencia.start}}</span> – <span id="exp-end">{{experiencia.end}}</span> - <span
                    id="exp-time">{{experiencia.time}}</span></h4>
                <h4 id="exp-place">{{experiencia.location}}</h4>
              </div>
            </div>
          </a>
        </div>
        <div *ngIf="isUserLogged" class="data-control">
          <div class="btn-edit">
            <button class="btn btn-right" data-bs-toggle="modal" data-bs-target="#experienciaForm" (click)="onEditExperiencia(i)"><i class="fa fa-pen"></i></button>
          </div>
          <div class="btn-edit">
            <button class="btn btn-right" (click)="onDeleteExperiencia(i)"><i class="fa fa-trash"></i></button>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>